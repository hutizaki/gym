import{r as R,g as W,a as U}from"./vendor-D3F3s8fL.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const e of r)if(e.type==="childList")for(const a of e.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function l(r){const e={};return r.integrity&&(e.integrity=r.integrity),r.referrerPolicy&&(e.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?e.credentials="include":r.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(r){if(r.ep)return;r.ep=!0;const e=l(r);fetch(r.href,e)}})();var E={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C;function q(){if(C)return _;C=1;var c=R(),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,r=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e={key:!0,ref:!0,__self:!0,__source:!0};function a(n,i,m){var u,f={},g=null,d=null;m!==void 0&&(g=""+m),i.key!==void 0&&(g=""+i.key),i.ref!==void 0&&(d=i.ref);for(u in i)o.call(i,u)&&!e.hasOwnProperty(u)&&(f[u]=i[u]);if(n&&n.defaultProps)for(u in i=n.defaultProps,i)f[u]===void 0&&(f[u]=i[u]);return{$$typeof:s,type:n,key:g,ref:d,props:f,_owner:r.current}}return _.Fragment=l,_.jsx=a,_.jsxs=a,_}var N;function z(){return N||(N=1,E.exports=q()),E.exports}var t=z(),h=R();const B=W(h);var x={},w;function I(){if(w)return x;w=1;var c=U();return x.createRoot=c.createRoot,x.hydrateRoot=c.hydrateRoot,x}var V=I();const J=W(V),O=({time:c="9:41",battery:s="100%"})=>{const[l,o]=h.useState(c);return h.useEffect(()=>{const r=()=>{const n=new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!1});o(n)};r();const e=setInterval(r,6e4);return()=>clearInterval(e)},[]),h.useEffect(()=>{"getBattery"in navigator&&navigator.getBattery().then(r=>{const e=Math.round(r.level*100);console.log("Battery level:",e)})},[]),t.jsxs("div",{className:"status-bar",children:[t.jsx("div",{className:"time",children:l}),t.jsx("div",{className:"spacer"}),t.jsx("div",{className:"battery",children:s})]})},Y=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"})),T=({title:c="This Week",subtitle:s})=>{const l=()=>{const e=new Date,a=o(e),n=r(e),i=a.toLocaleDateString("en-US",{month:"short",day:"numeric"}),m=n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${i} - ${m}`},o=e=>{const a=new Date(e),n=a.getDay(),i=a.getDate()-n+(n===0?-6:1);return new Date(a.setDate(i))},r=e=>{const a=o(e),n=new Date(a);return n.setDate(a.getDate()+6),n};return t.jsxs("div",{className:"header",children:[t.jsx("div",{className:"week-title",children:c}),t.jsx("div",{className:"week-subtitle",children:s||l()})]})},H=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"})),P=({count:c=4,label:s="Day Streak"})=>{const[l,o]=h.useState(c);h.useEffect(()=>{const e=()=>{o(a=>a+1),r()};return document.addEventListener("workoutCompleted",e),()=>{document.removeEventListener("workoutCompleted",e)}},[]);const r=()=>{const e=document.querySelector(".streak-number");e&&(e.style.transform="scale(1.2)",e.style.transition="transform 0.3s ease",setTimeout(()=>{e.style.transform="scale(1)"},300))};return t.jsx("div",{className:"streak-section",children:t.jsxs("div",{className:"streak-content",children:[t.jsxs("div",{className:"streak-number",children:["ðŸ”¥ ",l]}),t.jsx("div",{className:"streak-label",children:s})]})})},G=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"})),K="/gym/assets/Dumbbell_Weights-Djatxqp4.png",Q=({day:c,date:s,status:l,workout:o,friends:r,onClick:e})=>t.jsxs("div",{className:"day-card-container",children:[t.jsx("div",{className:"day-of-week",children:t.jsx("span",{children:c})}),t.jsxs("div",{className:`day-card ${l||""}`,onClick:e,children:[s&&t.jsx("div",{className:"day-date",children:s}),l==="completed"&&t.jsx("div",{className:"workout-icon",children:o||t.jsx("img",{src:K,alt:"dumbbell"})}),r&&r.length>0&&t.jsxs("div",{className:`day-friends ${r.length>2?"overlapping":""}`,children:[r.slice(0,3).map((a,n)=>t.jsx("div",{className:`friend-avatar avatar-${n%4+1}`,children:a},n)),r.length>3&&t.jsx("span",{className:"ellipsis",children:"..."})]})]})]}),M=({weeksData:c=[],weekData:s=[]})=>{const l=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o=h.useRef(null),[,r]=h.useState(3),[e,a]=h.useState(""),n=h.useMemo(()=>c.length>0?c:[{days:s,label:"This Week"}],[c,s]),i=h.useCallback(d=>{if(!n[d]||!n[d].days||n[d].days.length===0)return;const v=n[d],k=new Date().toDateString(),D=v.days.find(y=>y.status==="today"&&y.fullDate&&y.fullDate.toDateString()===k);if(D&&D.fullDate){const y=D.fullDate.toLocaleDateString("en-US",{month:"long",year:"numeric"});a(y)}else{const y=v.days[0];if(y&&y.fullDate){const b=y.fullDate.toLocaleDateString("en-US",{month:"long",year:"numeric"});a(b)}}},[n]),m=h.useCallback(()=>{if(!o.current)return;const d=o.current.offsetWidth,v=o.current.scrollLeft,p=Math.round(v/d),k=Math.max(0,Math.min(p,n.length-1));r(k),i(k)},[n.length,i]);h.useEffect(()=>{if(o.current&&n.length>0){let d;const v=()=>{d||(d=setTimeout(()=>{m(),d=null},16))},p=o.current;p.addEventListener("scroll",v);const k=setTimeout(()=>{if(!o.current)return;const D=3;if(n.length>D){const y=o.current.offsetWidth,b=D*y;o.current.scrollTo({left:b,behavior:"instant"}),r(D),i(D)}},100);return()=>{clearTimeout(k),clearTimeout(d),p&&p.removeEventListener("scroll",v)}}},[n,m,i]);const u=h.useCallback((d,v)=>{document.dispatchEvent(new CustomEvent("workoutCompleted",{detail:{weekIndex:d,dayIndex:v}}))},[]),f=h.useCallback((d,v)=>{document.dispatchEvent(new CustomEvent("workoutCompleted",{detail:{weekIndex:d,dayIndex:v}}))},[]),g=h.useCallback((d,v,p)=>{d.status==="today"?u(v,p):d.status==="missed"&&f(v,p)},[u,f]);return t.jsxs("div",{className:"weeks-container",children:[t.jsx("div",{className:"month-header",children:t.jsx("h3",{className:"month-label",children:e})}),t.jsx("div",{className:"weeks-scroll",ref:o,children:n.map((d,v)=>t.jsx("div",{className:"week-section",children:t.jsx("div",{className:"days-grid",children:t.jsx("div",{className:"days-row",children:d.days.map((p,k)=>{const D=p.fullDate?p.fullDate.toLocaleDateString("en-US",{weekday:"short"}):l[k];return t.jsx(Q,{day:D,date:p.date,status:p.status,workout:p.workout,friends:p.friends,onClick:()=>g(p,v,k)},`${v}-${k}`)})})})},v))})]})},X=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"})),$=({friendsData:c=[],title:s="ðŸ† This Week's Champions",count:l})=>{const o=l||c.length,r=(e,a)=>{console.log("Friend selected:",e),document.dispatchEvent(new CustomEvent("friendSelected",{detail:{friend:e,friendIndex:a}}))};return t.jsxs("div",{className:"friends-section",children:[t.jsxs("div",{className:"friends-header",children:[t.jsx("div",{className:"friends-title",children:s}),t.jsxs("div",{className:"friends-count",children:[o," Active"]})]}),t.jsx("div",{className:"friends-grid",children:c.map((e,a)=>t.jsxs("div",{className:`friend-card ${e.isLeader?"leader":""} ${e.isYou?"you":""}`,onClick:()=>r(e,a),children:[e.isLeader&&t.jsx("div",{className:"crown-icon",children:"ðŸ‘‘"}),t.jsx("div",{className:`friend-avatar-large avatar-${a%4+1}`,children:e.avatar}),t.jsx("div",{className:"friend-name",children:e.name}),t.jsxs("div",{className:"friend-streak",children:[e.streak," days"]})]},a))})]})},Z=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"})),F=({title:c="ðŸ’¥ Weekend Challenge",subtitle:s="Can you beat Sarah's 5-day streak?",active:l=!0})=>{const o=()=>{const r={title:c,subtitle:s,isActive:l};document.dispatchEvent(new CustomEvent("challengeClicked",{detail:{challenge:r}}))};return t.jsx("div",{className:"challenge-banner",style:{opacity:l?"1":"0.5",pointerEvents:l?"auto":"none"},onClick:o,children:t.jsxs("div",{className:"challenge-content",children:[t.jsx("div",{className:"challenge-title",children:c}),t.jsx("div",{className:"challenge-subtitle",children:s})]})})},ee=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"})),A=()=>t.jsx("div",{className:"version-tracker",children:"v.0.1"}),te=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));class j{static getWeeksData(){const s=new Date,l=new Date(s);l.setDate(s.getDate()-s.getDay()+1);const o=[];for(let r=-3;r<=0;r++){let e=[];if(r===0)for(let n=0;n<7;n++){const i=new Date(s);i.setDate(s.getDate()+(n-4));let m="completed",u=this.getRandomWorkout(),f=this.getRandomFriends();i.toDateString()===s.toDateString()?(m="today",u="âš¡"):i>s?(m="future",u=null,f=[]):Math.random()>.8&&(m="missed",u=null,f=this.getRandomFriends().slice(0,2)),e.push({date:i.getDate(),fullDate:i,status:m,workout:u,friends:f})}else{const n=new Date(l);n.setDate(l.getDate()+r*7);for(let i=0;i<7;i++){const m=new Date(n);m.setDate(n.getDate()+i);let u="completed",f=this.getRandomWorkout(),g=this.getRandomFriends();Math.random()>.8&&(u="missed",f=null,g=this.getRandomFriends().slice(0,2)),e.push({date:m.getDate(),fullDate:m,status:u,workout:f,friends:g})}}const a=r===0?new Date(s.getTime()-5760*60*1e3):(()=>{const n=new Date(l);return n.setDate(l.getDate()+r*7),n})();o.push({weekStart:a,days:e,label:this.getWeekLabel(a,r===0)})}return o}static getWeekData(){const s=this.getWeeksData();return s[s.length-1].days}static getRandomWorkout(){const s=["ðŸ’ª","ðŸƒ","ðŸ‹ï¸","ðŸš´","ðŸŠ","ðŸ§˜"];return s[Math.floor(Math.random()*s.length)]}static getRandomFriends(){const s=["S","M","A","J","K","L","B","C"],l=Math.floor(Math.random()*4)+1;return s.slice(0,l)}static getWeekLabel(s,l){if(l)return"This Week";const o=new Date(s);o.setDate(s.getDate()+6);const r={month:"short",day:"numeric"};return`${s.toLocaleDateString("en-US",r)} - ${o.toLocaleDateString("en-US",r)}`}static getFriendsData(){return[{name:"Sarah",streak:5,isLeader:!0,isYou:!1,avatar:"S"},{name:"You",streak:4,isLeader:!1,isYou:!0,avatar:"You"},{name:"Jake",streak:3,isLeader:!1,isYou:!1,avatar:"J"},{name:"Alex",streak:2,isLeader:!1,isYou:!1,avatar:"A"}]}static getChallengeData(){return{title:"ðŸ’¥ Weekend Challenge",subtitle:"Can you beat Sarah's 5-day streak?",isActive:!0}}static getStreakData(){return{count:4,label:"Day Streak"}}static getHeaderData(){return{title:"This Week",subtitle:"Sep 16 - Sep 22, 2024"}}}function re(){const[c,s]=h.useState([]),[l,o]=h.useState([]),[r,e]=h.useState({}),[a,n]=h.useState({}),[i,m]=h.useState({});return h.useEffect(()=>{s(j.getWeeksData()),o(j.getFriendsData()),e(j.getChallengeData()),n(j.getStreakData()),m(j.getHeaderData());const u=d=>{console.log("Workout completed:",d.detail)},f=d=>{console.log("Friend selected:",d.detail.friend)},g=d=>{console.log("Challenge clicked:",d.detail.challenge)};return document.addEventListener("workoutCompleted",u),document.addEventListener("friendSelected",f),document.addEventListener("challengeClicked",g),()=>{document.removeEventListener("workoutCompleted",u),document.removeEventListener("friendSelected",f),document.removeEventListener("challengeClicked",g)}},[]),t.jsx("div",{className:"App",children:t.jsxs("div",{className:"container",children:[t.jsx(O,{}),t.jsx(T,{...i}),t.jsx(P,{...a}),t.jsx(M,{weeksData:c}),t.jsx($,{friendsData:l}),t.jsx(F,{...r}),t.jsx("div",{className:"bottom-spacer"}),t.jsx(A,{})]})})}const ne="modulepreload",se=function(c){return"/gym/"+c},L={},S=function(s,l,o){let r=Promise.resolve();if(l&&l.length>0){let i=function(m){return Promise.all(m.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),n=a?.nonce||a?.getAttribute("nonce");r=i(l.map(m=>{if(m=se(m),m in L)return;L[m]=!0;const u=m.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":ne,u||(g.as="script"),g.crossOrigin="",g.href=m,n&&g.setAttribute("nonce",n),document.head.appendChild(g),u)return new Promise((d,v)=>{g.addEventListener("load",d),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${m}`)))})}))}function e(a){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=a,window.dispatchEvent(n),!n.defaultPrevented)throw a}return r.then(a=>{for(const n of a||[])n.status==="rejected"&&e(n.reason);return s().catch(e)})};h.lazy(()=>S(()=>Promise.resolve().then(()=>Y),void 0));h.lazy(()=>S(()=>Promise.resolve().then(()=>H),void 0));h.lazy(()=>S(()=>Promise.resolve().then(()=>G),void 0));h.lazy(()=>S(()=>Promise.resolve().then(()=>X),void 0));h.lazy(()=>S(()=>Promise.resolve().then(()=>Z),void 0));h.lazy(()=>S(()=>Promise.resolve().then(()=>ee),void 0));h.lazy(()=>S(()=>Promise.resolve().then(()=>te),void 0));const ae=re,oe=J.createRoot(document.getElementById("root"));oe.render(t.jsx(B.StrictMode,{children:t.jsx(ae,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(c=>{console.log("SW registered: ",c)}).catch(c=>{console.log("SW registration failed: ",c)})});
//# sourceMappingURL=index-BolLYcn7.js.map
